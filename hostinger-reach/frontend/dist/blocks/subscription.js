!function(){"use strict";var t={145:function(t,n,e){function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}e.d(n,{A:function(){return r}})},243:function(t,n,e){e.d(n,{A:function(){return o}});var r=e(145);function o(t){if(Array.isArray(t))return(0,r.A)(t)}},284:function(t,n,e){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}e.d(n,{A:function(){return r}})},327:function(t,n,e){e.d(n,{A:function(){return o}});var r=e(284);function o(t,n){if("object"!=(0,r.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,n||"default");if("object"!=(0,r.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}},342:function(t,n,e){var r=e(723),o=e(790);n.A=function(){return(0,o.jsxs)("div",{className:"hostinger-reach-block-connect",children:[(0,o.jsx)("div",{className:"hostinger-reach-block-connect__title",children:(0,r.__)("You are not connected to Hostinger Reach","hostinger-reach")}),(0,o.jsx)("div",{className:"hostinger-reach-block-connect__subtitle",children:(0,r.__)("You are not connected to Hostinger Reach. To gain full access to this block, you need to connect your Hostinger Reach account.","hostinger-reach")}),(0,o.jsx)("div",{className:"hostinger-reach-block-connect__button-wrap",children:(0,o.jsx)("a",{target:"_blank",href:"/wp-admin/admin.php?page=hostinger-reach",className:"hostinger-block-button hostinger-block-button--is-normal hostinger-block-button--is-primary",children:(0,r.__)("Connect Now","hostinger-reach")})})]})}},369:function(t,n,e){function r(t){if(Array.isArray(t))return t}e.d(n,{A:function(){return r}})},394:function(t,n,e){e.d(n,{A:function(){return a}});var r=e(243),o=e(893),i=e(800),c=e(519);function a(t){return(0,r.A)(t)||(0,o.A)(t)||(0,i.A)(t)||(0,c.A)()}},427:function(t){t.exports=window.wp.components},453:function(t,n,e){e.d(n,{A:function(){return a}});var r=e(369),o=e(986),i=e(800),c=e(562);function a(t,n){return(0,r.A)(t)||(0,o.A)(t,n)||(0,i.A)(t,n)||(0,c.A)()}},455:function(t){t.exports=window.wp.apiFetch},467:function(t,n,e){e.d(n,{A:function(){return o}});var r=e(922);function o(t,n,e){return(n=(0,r.A)(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}},519:function(t,n,e){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.d(n,{A:function(){return r}})},562:function(t,n,e){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.d(n,{A:function(){return r}})},609:function(t){t.exports=window.React},715:function(t){t.exports=window.wp.blockEditor},723:function(t){t.exports=window.wp.i18n},790:function(t){t.exports=window.ReactJSXRuntime},800:function(t,n,e){e.d(n,{A:function(){return o}});var r=e(145);function o(t,n){if(t){if("string"==typeof t)return(0,r.A)(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?(0,r.A)(t,n):void 0}}},819:function(t,n,e){var r=e(467),o=e(394),i=e(848),c=e(453),a=e(609),u=e(455),s=e.n(u),l=e(715),f=e(427),h=e(723),p=e(342),d=e(790);function b(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function m(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?b(Object(e),!0).forEach(function(n){(0,r.A)(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):b(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function g(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var u=r&&r.prototype instanceof a?r:a,s=Object.create(u.prototype);return v(s,"_invoke",function(e,r,o){var i,a,u,s=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return i=n,a=0,u=t,h.n=e,c}};function p(e,r){for(a=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,i=l[n],p=h.p,d=i[2];e>3?(o=d===r)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=e<2&&p<i[1])?(a=0,h.v=r,h.n=i[1]):p<d&&(o=e<3||i[0]>r||r>d)&&(i[4]=e,i[5]=r,h.n=d,a=0))}if(o||e>1)return c;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),a=l,u=d;(n=a<2?t:u)||!f;){i||(a?a<3?(a>1&&(h.n=-1),p(a,u)):h.n=u:h.v=u);try{if(s=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(f=h.n<0)?u:e.call(r,h))!==c)break}catch(n){i=t,a=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,o,i),!0),s}var c={};function a(){}function u(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(v(n={},r,function(){return this}),n),f=s.prototype=a.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,v(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,v(f,"constructor",s),v(s,"constructor",u),u.displayName="GeneratorFunction",v(s,o,"GeneratorFunction"),v(f),v(f,o,"Generator"),v(f,r,function(){return this}),v(f,"toString",function(){return"[object Generator]"}),(g=function(){return{w:i,m:h}})()}function v(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}v=function(t,n,e,r){function i(n,e){v(t,n,function(t){return this._invoke(n,e,t)})}n?o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e:(i("next",0),i("throw",1),i("return",2))},v(t,n,e,r)}var y="success",w="error",A="loading";n.A=function(t){var n=t.attributes,e=t.setAttributes,r=t.clientId,u=(0,l.useBlockProps)(),b=wp.data.select("core/editor").getEditorSettings().nonce||"",v=(0,a.useState)(""),j=(0,c.A)(v,2),_=j[0],x=j[1],S=(0,a.useState)(""),k=(0,c.A)(S,2),O=k[0],L=k[1],P=(0,a.useState)(""),N=(0,c.A)(P,2),C=N[0],T=N[1],E=(0,a.useState)(""===n.contactList),I=(0,c.A)(E,2),D=I[0],H=I[1],F=(0,a.useState)(!0),G=(0,c.A)(F,2),R=G[0],V=G[1],M=(0,a.useState)([]),B=(0,c.A)(M,2),X=B[0],Z=B[1],W=(0,a.useState)("ready"),q=(0,c.A)(W,2),U=q[0],Y=q[1],z=(0,a.useState)(""),J=(0,c.A)(z,2),$=J[0],K=J[1],Q=U===A;(0,a.useEffect)(function(){tt(),nt()},[]),(0,a.useEffect)(function(){n.formId||e({formId:r})},[e]);var tt=function(){var t=(0,i.A)(g().m(function t(){return g().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,et();case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),nt=function(){var t=(0,i.A)(g().m(function t(){return g().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,s()({path:"/hostinger-reach/v1/overview",method:"GET",headers:{"X-WP-Nonce":b},parse:!1});case 1:t.v.ok?V(!0):V(!1),t.n=3;break;case 2:t.p=2,t.v,V(!1);case 3:return t.a(2)}},t,null,[[0,2]])}));return function(){return t.apply(this,arguments)}}(),et=function(){var t=(0,i.A)(g().m(function t(){var n,e,r;return g().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,s()({path:"/hostinger-reach/v1/contact-lists",method:"GET",headers:{"X-WP-Nonce":b},parse:!1});case 1:if(!(n=t.v).ok){t.n=3;break}return e=Z,t.n=2,n.json();case 2:r=t.v,e(r);case 3:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),rt=function(){var t=(0,i.A)(g().m(function t(e){return g().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.preventDefault(),Y(A),t.p=1,t.n=2,s()({path:"/hostinger-reach/v1/contact",method:"POST",headers:{"X-WP-Nonce":b},data:{email:_,name:O,surname:C,id:n.formId,group:n.contactList},parse:!1});case 2:t.v.ok?(Y(y),K((0,h.__)("Thanks for subscribing","hostinger-reach"))):(Y(w),K((0,h.__)("Something went wrong. Please try again","hostinger-reach"))),t.n=4;break;case 3:t.p=3,t.v,Y(w),K((0,h.__)("Something went wrong. Please try again","hostinger-reach"));case 4:return t.a(2)}},t,null,[[1,3]])}));return function(_x){return t.apply(this,arguments)}}();return(0,d.jsxs)("div",m(m({},u),{},{children:[(0,d.jsx)(l.InspectorControls,{children:(0,d.jsxs)(f.PanelBody,{title:(0,h.__)("Settings","hostinger-reach"),children:[!R&&(0,d.jsx)(p.A,{}),(0,d.jsx)(f.TextControl,{disabled:!0,label:(0,h.__)("Form ID","hostinger-reach"),value:n.formId,help:(0,h.__)("Unique identifier for this form","hostinger-reach")}),(0,d.jsx)(f.SelectControl,{label:(0,h.__)("Contact List","hostinger-reach"),value:n.contactList,options:[{label:(0,h.__)("Create New List","hostinger-reach"),value:""}].concat((0,o.A)(X.map(function(t){return{label:t.name,value:t.name}}))),onChange:function(t){e({contactList:t}),H(!t)}}),D&&(0,d.jsx)(f.TextControl,{label:(0,h.__)("New Contact List","hostinger-reach"),value:n.contactList,onChange:function(t){e({contactList:t})},help:(0,h.__)("Name for the new Contact List","hostinger-reach")}),(0,d.jsx)(f.ToggleControl,{label:(0,h.__)("Show Name Field?","hostinger-reach"),checked:n.showName,onChange:function(t){return e({showName:t})}},"hostinger-reach-block-show-name-field"),(0,d.jsx)(f.ToggleControl,{label:(0,h.__)("Show Surname Field?","hostinger-reach"),checked:n.showSurname,onChange:function(t){return e({showSurname:t})}},"hostinger-reach-block-show-surname-field")]})},"hostinger-reach-block-controls"),(0,d.jsxs)("form",{className:"hostinger-reach-block-subscription-form",onSubmit:rt,children:[!R&&(0,d.jsx)(p.A,{}),(0,d.jsx)("input",{type:"hidden",name:"group",value:n.contactList}),(0,d.jsx)("input",{type:"hidden",name:"id",value:n.formId}),(0,d.jsx)(f.TextControl,{required:!0,label:(0,h.__)("Email","hostinger-reach"),type:"email",value:_,onChange:function(t){return x(t)}},"hostinger-reach-block-email-field"),n.showName&&(0,d.jsx)(f.TextControl,{label:(0,h.__)("Name","hostinger-reach"),value:O,onChange:function(t){return L(t)}},"hostinger-reach-block-name-field"),n.showSurname&&(0,d.jsx)(f.TextControl,{label:(0,h.__)("Surname","hostinger-reach"),value:C,onChange:function(t){return T(t)}},"hostinger-reach-block-surname-field"),U!==y&&(0,d.jsx)(f.Button,{disabled:Q,type:"submit",variant:"primary",className:"hostinger-reach-block-submit wp-block-button__link has-dark-color has-color-1-background-color has-text-color has-background has-link-color has-medium-font-size wp-element-button",children:(0,h.__)("Subscribe","hostinger-affiliate-plugin")},"hostinger-reach-block-submit"),$&&(0,d.jsx)("div",{className:"reach-subscription-message",children:$})]})]}))}},848:function(t,n,e){function r(t,n,e,r,o,i,c){try{var a=t[i](c),u=a.value}catch(t){return void e(t)}a.done?n(u):Promise.resolve(u).then(r,o)}function o(t){return function(){var n=this,e=arguments;return new Promise(function(o,i){var c=t.apply(n,e);function a(t){r(c,o,i,a,u,"next",t)}function u(t){r(c,o,i,a,u,"throw",t)}a(void 0)})}}e.d(n,{A:function(){return o}})},893:function(t,n,e){function r(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}e.d(n,{A:function(){return r}})},922:function(t,n,e){e.d(n,{A:function(){return i}});var r=e(284),o=e(327);function i(t){var n=(0,o.A)(t,"string");return"symbol"==(0,r.A)(n)?n:n+""}},986:function(t,n,e){function r(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,c,a=[],u=!0,s=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(a.push(r.value),a.length!==n);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=e.return&&(c=e.return(),Object(c)!==c))return}finally{if(s)throw o}}return a}}e.d(n,{A:function(){return r}})},997:function(t){t.exports=window.wp.blocks}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return t[r](i,i.exports,e),i.exports}e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)};var r=e(997),o=e(723),i=e(819),c=e(790);(0,r.registerBlockType)("hostinger-reach/subscription",{name:"hostinger-reach/subscription",title:(0,o.__)("Reach Subscription Form","hostinger-reach"),icon:(0,c.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M13.925 7.35306L18.0634 3.21429L20.7856 5.9365L18.5036 8.21843H15.8008L15.7823 8.20957L10.0747 5.67124V1.5H13.925V7.35306Z",fill:"#1D1E20"}),(0,c.jsx)("path",{d:"M5.49586 15.7815L8.21638 15.7895L13.9252 18.3287V22.4999H10.0749L10.0736 16.649L5.93656 20.7856L3.21436 18.0634L5.49586 15.7815Z",fill:"#1D1E20"}),(0,c.jsx)("path",{d:"M22.5003 10.0757H18.3282L15.7827 15.7997V18.505L18.0638 20.7861L20.786 18.0635L16.6472 13.9251L22.5003 13.9243V10.0757Z",fill:"#1D1E20"}),(0,c.jsx)("path",{d:"M5.9365 3.21436L8.21632 5.49418V8.20415L5.67208 13.9244H1.5V10.0758H7.35306L3.21429 5.93741L5.9365 3.21436Z",fill:"#1D1E20"})]}),category:"common",textdomain:"hostinger-reach",attributes:{formId:{type:"string",default:""},showName:{type:"boolean",default:!1},showSurname:{type:"boolean",default:!1},contactList:{type:"string",default:""}},edit:i.A,save:function(){return null}})}();
//# sourceMappingURL=subscription.js.map