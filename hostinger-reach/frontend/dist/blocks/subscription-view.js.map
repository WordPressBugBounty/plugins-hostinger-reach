{"version":3,"file":"subscription-view.js","mappings":"AAAAA,SAASC,iBAAiB,mBAAoB,WAC7C,IAAMC,EAAeC,wCAAwCD,aAE/CF,SAASI,iBADF,4CAEfC,QAAQ,SAAAC,GACb,IAAMC,EAAYD,EAAKE,cAAc,+BACrCF,EAAKL,iBAAiB,SAAU,SAASQ,GACxCA,EAAEC,iBAEF,IAAMC,EAAYL,EAAKE,cAAc,yBAC/BI,EAAW,IAAIC,SAASP,GACxBQ,EAAO,CAAC,EAEdF,EAASP,QAAQ,SAACU,EAAOC,GACxBF,EAAKE,GAAOD,CACb,GAEAJ,EAAUM,UAAW,EAErBC,MAAMf,wCAAwCgB,SAAU,CACvDC,OAAQ,OACRC,QAAS,CACR,eAAgB,mBAChB,aAAclB,wCAAwCmB,OAEvDC,KAAMC,KAAKC,UAAUX,KAEpBY,KAAK,SAAAC,GAIL,GAHApB,EAAUqB,MAAMC,QAAU,QAC1BvB,EAAKwB,SAEAH,EAASI,GAKb,MAAM,IAAIC,MAAML,EAASM,YAJzB1B,EAAU2B,YAAchC,EAAaiC,OACnB7B,EAAKE,cAAc,iCAC3BoB,MAAMC,QAAU,MAK5B,GACCO,MAAM,SAAAC,GACN9B,EAAU2B,YAAchC,EAAamC,MACrC9B,EAAUqB,MAAMC,QAAU,QAC1BlB,EAAUM,UAAW,CACtB,EACF,EACD,EACD","sources":["webpack://hostinger-reach/./frontend/blocks/subscription-block/src/view.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\n\tconst translations = hostinger_reach_subscription_block_data.translations;\n\tconst formSelector = '.hostinger-reach-block-subscription-form';\n\tconst forms = document.querySelectorAll(formSelector);\n\tforms.forEach(form => {\n\t\tconst messageEl = form.querySelector('.reach-subscription-message');\n\t\tform.addEventListener('submit', function(e) {\n\t\t\te.preventDefault();\n\n\t\t\tconst submitBtn = form.querySelector('button[type=\"submit\"]');\n\t\t\tconst formData = new FormData(form);\n\t\t\tconst data = {};\n\n\t\t\tformData.forEach((value, key) => {\n\t\t\t\tdata[key] = value;\n\t\t\t});\n\n\t\t\tsubmitBtn.disabled = true;\n\n\t\t\tfetch(hostinger_reach_subscription_block_data.endpoint, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'X-WP-Nonce': hostinger_reach_subscription_block_data.nonce,\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(data)\n\t\t\t})\n\t\t\t\t.then(response => {\n\t\t\t\t\tmessageEl.style.display = 'block';\n\t\t\t\t\tform.reset();\n\n\t\t\t\t\tif ( response.ok ) {\n\t\t\t\t\t\tmessageEl.textContent = translations.thanks;\n\t\t\t\t\t\tconst submitBtn = form.querySelector('.hostinger-reach-block-submit');\n\t\t\t\t\t\tsubmitBtn.style.display = 'none';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(response.statusText);\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tmessageEl.textContent = translations.error;\n\t\t\t\t\tmessageEl.style.display = 'block';\n\t\t\t\t\tsubmitBtn.disabled = false;\n\t\t\t\t});\n\t\t});\n\t});\n});\n"],"names":["document","addEventListener","translations","hostinger_reach_subscription_block_data","querySelectorAll","forEach","form","messageEl","querySelector","e","preventDefault","submitBtn","formData","FormData","data","value","key","disabled","fetch","endpoint","method","headers","nonce","body","JSON","stringify","then","response","style","display","reset","ok","Error","statusText","textContent","thanks","catch","error"],"sourceRoot":""}